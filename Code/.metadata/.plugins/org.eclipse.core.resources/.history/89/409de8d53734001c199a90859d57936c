/*
 *
 * Module: Door locking control application.
 *
 * File Name: door_locking_control.c
 *
 * Description: Source file of controlMCU application.
 *
 * Author: Mohamed Khaled.
 *
 */
#include "uart.h"
#define HMI_MCU_READY 0xff


int main ( void )
{
	UART_init(9600);

	uint8 password[5];
	uint8 reEnteredPassword[5];

	/* Receiving password */
	for (uint8 i = 0; i < 5; i++)
	{
		password[i] = UART_recieveByte();
	}
	/* Receiving reentered password */
	for (uint8 i = 0; i < 5; i++)
	{
		reEnteredPassword[i] = UART_recieveByte();
	}

	boolean result = LOGIC_HIGH;
	/* Comparing passwords*/
	for (uint8 i = 0; i < 5; i++)
	{
		if(password[i] != reEnteredPassword[i])
		{
			result = LOGIC_LOW;
			break;
		}
	}
	if(result == LOGIC_LOW)
	{
		UART_sendByte(0x00);
	}
	else if(result == LOGIC_HIGH)
	{
		UART_sendByte(0x01);
	}

	return 0;
}
