/*
 *
 * Module: Door locking control application.
 *
 * File Name: door_locking_control.c
 *
 * Description: Source file of controlMCU application.
 *
 * Author: Mohamed Khaled.
 *
 */
#define F_CPU 8000000


#include "external_eeprom.h"
#include <util/delay.h>

int main ( void )
{
	/* Delay to let UART in the other MCU to be initialized */
	EEPROM_init();
	_delay_ms(1);

	uint8 pass[5] = {1,2,3,4,5};
	savePassword(pass);
	while(1)
	{

	}

	return 0;
}

void savePassword( uint8* password )
{
	for(uint8 i = 0; i < PASSWORD_LENGTH; i++)
	{
		EEPROM_writeByte(PASSWORD_START_ADDRESS + i, *(password + i));
		_delay_ms(10);
	}
	EEPROM_writeByte(SAVED_PASSWORD_FLAG_ADDRESS, LOGIC_HIGH);
	_delay_ms(10);
}
